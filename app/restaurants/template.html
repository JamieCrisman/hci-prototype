<div class="container-fluid">
  <div class="row">
    <ol class="breadcrumb">
      <li><a href="#/">Home</a></li>
      <li class="active">Restaurants</li>
    </ol>
  </div>
  <div class="row">
    <div class="col-md-3">
      <h3>Filter</h3>
      <div class="form-group">
        <label>Category</label>
        <select ng-model="filterCuisine" class="form-control">
          <option value="">Any</option>
          <option ng-repeat="option in categories" value="{{option}}">{{option}}</option>
        </select>
      </div>
      <div class="form-group">
        <label>Order Type</label>
        <div>
          <label>
            <input type="radio" ng-model="filterOrderType" value="either" name="orderType" id="option3" autocomplete="off"> Either
          </label>
        </div>
        <div>
          <label>
            <input type="radio" ng-model="filterOrderType" value="delivery" name="orderType" id="option1" autocomplete="off" default> Delivery
          </label>
        </div>
        <div>
          <label>
            <input type="radio" ng-model="filterOrderType" value="carryout" name="orderType" id="option2" autocomplete="off"> Carry-out
          </label>
        </div>
      </div>
      <div class="form-group">
        <label>Sort By</label>
        <div>
          <label>
            <input type="radio" ng-model="sortMode" value="+name" name="sortMode" id="option1" autocomplete="off" default> Name
          </label>
        </div>
        <div>
          <label>
            <input type="radio" ng-model="sortMode" value="-rating" name="sortMode" id="option2" autocomplete="off"> Rating
          </label>
        </div>
        <div>
          <label>
            <input type="radio" ng-model="sortMode" value="+distance" name="sortMode" id="option3" autocomplete="off"> Distance
          </label>
        </div>
        <div>
          <label>
            <input type="radio" ng-model="sortMode" value="+price" name="sortMode" id="option3" autocomplete="off"> Price
          </label>
        </div>
      </div>

      <div class="form-group">
        <label>Rating</label>
        <select ng-model="filterRating" class="form-control">
          <option value="0">Any</option>
          <option value="2">2 Star or more</option>
          <option value="3">3 Star or more</option>
          <option value="4">4 Star or more</option>
          <option value="5">5 Star</option>
        </select>
      </div>
      <div class="form-group row">
        <div class="col-xs-12">
          <label>Price range</label>
        </div>
        <div class="col-xs-5">
          <input type="text" class="form-control" ng-model="filterPriceMin" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 500, 'blur': 0 } }" placeholder="min. price">
        </div>
        <div class="col-xs-5">
          <input type="text" class="form-control col-xs-1" ng-model="filterPriceMax" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 500, 'blur': 0 } }" placeholder="max price">
        </div>
      </div>
      <div class="form-group">
        <label>Distance</label>
        <select ng-model="filterDistance" class="form-control">
          <option value="1000">Any</option>
          <option value="1">Walking distance (1 mile)</option>
          <option value="3">3 miles</option>
          <option value="5">5 miles</option>
          <option value="10">10 miles</option>
          <option value="15">Road trip (15 miles)</option>
        </select>
      </div>

      <div class="form-group">
        <label>Has Discounts
          <input type="checkbox" ng-model="filterDiscounts">
        </label>
      </div>

    </div>
  	<div class="col-md-6">
      <h2>
        Restaurants
      </h2>
      <div class="row">
        <div class="col-md-12" ng-show="(restaurants | filter:masterFilter).length == 0">
          <h3>
            Sorry, no restaurants fit your criteria
          </h3>
        </div>
      </div>
      <div class="row restaurant-row" ng-repeat="restaurant in restaurants | filter:masterFilter | limitTo:30 | orderBy:sortMode">
    		<div class="col-md-4">
    			<div>
            {{restaurant.name}}
          </div>
          <div ng-if="filterCuisine == ''" class="restaurantCuisine">
            <small>{{restaurant.cuisine}}</small>
          </div>
          <div class="restaurant-stars">
            <span ng-repeat="i in range(5)">
              <i class="glyphicon"
                ng-class="{'glyphicon-star': $index < restaurant.rating, 'glyphicon-star-empty': $index >= restaurant.rating}"
              ></i>
            </span>
          </div>
    		</div>
    		<div class="col-md-2">
          {{restaurant.distance | number:1}} mi
          <div class="restaurant-price">
            <span ng-repeat="i in range((restaurant.price-1)/5)">
              $
            </span>
          </div>
    		</div>
        <div class="col-md-4 restaurant-notices">
          <div ng-if="restaurant.hasDiscounts">
            <span class="label label-success"><i class="glyphicon glyphicon-tag"></i> Discounts available</span>
          </div>
          <div ng-if="restaurant.orderType != 'either'">
            <span class="label label-default">{{restaurant.orderType}}</span>
          </div>
          <div ng-if="restaurant.orderType == 'either'">
            <span class="label label-default">carryout</span>
            <span class="label label-default">delivery</span>
          </div>
        </div>
        <div class="col-md-1">
          <a href="#/menu" ng-click="foodService.selectedRestaurant = restaurant" class="btn btn-primary">Select</a>
        </div>
      </div>
    </div>
	</div>
</div>